{"ast":null,"code":"import _defineProperty from\"/Users/jaredfischer/Library/Mobile Documents/com~apple~CloudDocs/Desktop/ITC/PetApp/mern-pet-adoption-website/front-end/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/jaredfischer/Library/Mobile Documents/com~apple~CloudDocs/Desktop/ITC/PetApp/mern-pet-adoption-website/front-end/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/jaredfischer/Library/Mobile Documents/com~apple~CloudDocs/Desktop/ITC/PetApp/mern-pet-adoption-website/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import SearchBar from\"./SearchBar\";import{searchPets}from\"../actions/petActions\";import{useSelector,useDispatch}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AdvancedSearch(_ref){var search=_ref.search;var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),advancedSearch=_useState2[0],setAdvancedSearch=_useState2[1];var pets=useSelector(function(state){return state.pet.petData;});var results=useSelector(function(state){return state.search.petData;});var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),alert=_useState4[0],SetAlert=_useState4[1];var initialState={searchbar:\"\",type:\"\",adoptionStatus:\"\",hypoallergnic:\"\",breed:\"\",color:\"\"};var _useState5=useState(initialState),_useState6=_slicedToArray(_useState5,2),petData=_useState6[0],setPetData=_useState6[1];useEffect(function(){if(search&&pets){console.log(search);// dispatch(searchPets(search, pets));\n}},[]);var handleChange=function handleChange(e){if(alert){SetAlert();}setPetData(_objectSpread(_objectSpread({},petData),{},_defineProperty({},e.target.name,e.target.value)));};var clickHandler=function clickHandler(e){e.preventDefault();setAdvancedSearch(function(prevState){return!prevState;});};var submitHandler=function submitHandler(e){e.preventDefault();var emptyValues=0;//check if search is empty\nfor(var _i=0,_Object$entries=Object.entries(petData);_i<_Object$entries.length;_i++){var _Object$entries$_i=_slicedToArray(_Object$entries[_i],2),key=_Object$entries$_i[0],value=_Object$entries$_i[1];if(value===\"\"){emptyValues++;}}if(emptyValues===6){SetAlert(\"Please enter search criteria.\");}else{console.log(petData);dispatch(searchPets(petData,pets));}};useEffect(function(){var emptyValues=0;for(var _i2=0,_Object$entries2=Object.entries(petData);_i2<_Object$entries2.length;_i2++){var _Object$entries2$_i=_slicedToArray(_Object$entries2[_i2],2),key=_Object$entries2$_i[0],value=_Object$entries2$_i[1];if(value==\"\"){emptyValues++;if(emptyValues==6){dispatch({type:\"RESET_RESULTS\"});}}}},[petData]);useEffect(function(){if(results){if(results.length==0){SetAlert(\"Nothing was found...\");}}},[results]);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col w-full sticky items-center\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,className:\"w-full flex flex-col items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex w-5/6 ml-auto\",children:[/*#__PURE__*/_jsx(SearchBar,{onChange:handleChange,name:\"searchbar\"}),\" \",/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onSubmit:submitHandler,className:\"ml-2 p-1 px-2 rounded-md bg-gray-200 hover:bg-off-white\",children:\"Search\"})]}),advancedSearch&&/*#__PURE__*/_jsxs(\"div\",{className:\"m-1 sm:mt-2 flex space-x-3 flex-col md:flex-row space-y-2 md:space-y-0 justify-center items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 sm:mt-0 flex flex-col space-y-1 sm:space-y-0 sm:flex-row sm:space-x-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"type\",placeholder:\"Type:\",className:\"rounded-md p-1.5\",onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"breed\",placeholder:\"Breed:\",className:\"rounded-md p-1.5 \",onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"color\",placeholder:\"Color:\",className:\"rounded-md p-1.5 \",onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-10 md:space-x-3 justify-center content-center\",children:[/*#__PURE__*/_jsxs(\"select\",{name:\"hypoallergnic\",id:\"hypoallergnic\",className:\"rounded-md p-1.5\",onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"hypoallergenic:\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Yes\",children:\"Yes\"}),/*#__PURE__*/_jsx(\"option\",{value:\"No\",children:\"No\"})]}),/*#__PURE__*/_jsxs(\"select\",{name:\"adoptionStatus\",id:\"stsus\",className:\"rounded-md p-1.5\",onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Status:\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Fostered\",children:\"Fostered\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Available\",children:\"Available\"})]})]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:clickHandler,className:\"bg-gray-200 hover:bg-off-white rounded-md p-2 my-2\",children:\"Advanced Search\"}),alert&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-600 text-lg m-2\",children:alert})]});}export default AdvancedSearch;","map":{"version":3,"sources":["/Users/jaredfischer/Library/Mobile Documents/com~apple~CloudDocs/Desktop/ITC/PetApp/mern-pet-adoption-website/front-end/src/components/AdvancedSearch.jsx"],"names":["useState","useEffect","SearchBar","searchPets","useSelector","useDispatch","AdvancedSearch","search","dispatch","advancedSearch","setAdvancedSearch","pets","state","pet","petData","results","alert","SetAlert","initialState","searchbar","type","adoptionStatus","hypoallergnic","breed","color","setPetData","console","log","handleChange","e","target","name","value","clickHandler","preventDefault","prevState","submitHandler","emptyValues","Object","entries","key","length"],"mappings":"wmBAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,OAASC,UAAT,KAA2B,uBAA3B,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,C,wFAEA,QAASC,CAAAA,cAAT,MAAoC,IAAVC,CAAAA,MAAU,MAAVA,MAAU,CACnC,GAAMC,CAAAA,QAAQ,CAAGH,WAAW,EAA5B,CACA,cAA4CL,QAAQ,CAAC,KAAD,CAApD,wCAAOS,cAAP,eAAuBC,iBAAvB,eACA,GAAMC,CAAAA,IAAI,CAAGP,WAAW,CAAC,SAACQ,KAAD,QAAWA,CAAAA,KAAK,CAACC,GAAN,CAAUC,OAArB,EAAD,CAAxB,CACA,GAAMC,CAAAA,OAAO,CAAGX,WAAW,CAAC,SAACQ,KAAD,QAAWA,CAAAA,KAAK,CAACL,MAAN,CAAaO,OAAxB,EAAD,CAA3B,CACA,eAA0Bd,QAAQ,EAAlC,yCAAOgB,KAAP,eAAcC,QAAd,eAEA,GAAMC,CAAAA,YAAY,CAAG,CACpBC,SAAS,CAAE,EADS,CAEpBC,IAAI,CAAE,EAFc,CAGpBC,cAAc,CAAE,EAHI,CAIpBC,aAAa,CAAE,EAJK,CAKpBC,KAAK,CAAE,EALa,CAMpBC,KAAK,CAAE,EANa,CAArB,CASA,eAA8BxB,QAAQ,CAACkB,YAAD,CAAtC,yCAAOJ,OAAP,eAAgBW,UAAhB,eAEAxB,SAAS,CAAC,UAAM,CACf,GAAIM,MAAM,EAAII,IAAd,CAAoB,CACnBe,OAAO,CAACC,GAAR,CAAYpB,MAAZ,EACA;AACA,CACD,CALQ,CAKN,EALM,CAAT,CAOA,GAAMqB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC3B,GAAIb,KAAJ,CAAW,CACVC,QAAQ,GACR,CACDQ,UAAU,gCAAMX,OAAN,wBAAgBe,CAAC,CAACC,MAAF,CAASC,IAAzB,CAAgCF,CAAC,CAACC,MAAF,CAASE,KAAzC,GAAV,CACA,CALD,CAOA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACJ,CAAD,CAAO,CAC3BA,CAAC,CAACK,cAAF,GACAxB,iBAAiB,CAAC,SAACyB,SAAD,QAAe,CAACA,SAAhB,EAAD,CAAjB,CACA,CAHD,CAKA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACP,CAAD,CAAO,CAC5BA,CAAC,CAACK,cAAF,GACA,GAAIG,CAAAA,WAAW,CAAG,CAAlB,CAEA;AACA,6BAA2BC,MAAM,CAACC,OAAP,CAAezB,OAAf,CAA3B,gCAAoD,CAA/C,6DAAO0B,GAAP,uBAAYR,KAAZ,uBACJ,GAAIA,KAAK,GAAK,EAAd,CAAkB,CACjBK,WAAW,GACX,CACD,CACD,GAAIA,WAAW,GAAK,CAApB,CAAuB,CACtBpB,QAAQ,CAAC,+BAAD,CAAR,CACA,CAFD,IAEO,CACNS,OAAO,CAACC,GAAR,CAAYb,OAAZ,EACAN,QAAQ,CAACL,UAAU,CAACW,OAAD,CAAUH,IAAV,CAAX,CAAR,CACA,CACD,CAhBD,CAkBAV,SAAS,CAAC,UAAM,CACf,GAAIoC,CAAAA,WAAW,CAAG,CAAlB,CACA,+BAAyBC,MAAM,CAACC,OAAP,CAAezB,OAAf,CAAzB,mCAAkD,CAA7C,gEAAK0B,GAAL,wBAAUR,KAAV,wBACJ,GAAIA,KAAK,EAAI,EAAb,CAAiB,CAChBK,WAAW,GACX,GAAIA,WAAW,EAAI,CAAnB,CAAsB,CACrB7B,QAAQ,CAAC,CAAEY,IAAI,CAAE,eAAR,CAAD,CAAR,CACA,CACD,CACD,CACD,CAVQ,CAUN,CAACN,OAAD,CAVM,CAAT,CAYAb,SAAS,CAAC,UAAM,CACf,GAAIc,OAAJ,CAAa,CACZ,GAAIA,OAAO,CAAC0B,MAAR,EAAkB,CAAtB,CAAyB,CACxBxB,QAAQ,CAAC,sBAAD,CAAR,CACA,CACD,CACD,CANQ,CAMN,CAACF,OAAD,CANM,CAAT,CAQA,mBACC,aAAK,SAAS,CAAC,0CAAf,wBACC,cACC,QAAQ,CAAEqB,aADX,CAEC,SAAS,CAAC,mCAFX,wBAGC,aAAK,SAAS,CAAC,oBAAf,wBACC,KAAC,SAAD,EAAW,QAAQ,CAAER,YAArB,CAAmC,IAAI,CAAC,WAAxC,EADD,CACwD,GADxD,cAEC,eACC,IAAI,CAAC,QADN,CAEC,QAAQ,CAAEQ,aAFX,CAGC,SAAS,CAAC,yDAHX,oBAFD,GAHD,CAYE3B,cAAc,eACd,aAAK,SAAS,CAAC,oGAAf,wBACC,aAAK,SAAS,CAAC,4EAAf,wBACC,cACC,IAAI,CAAC,MADN,CAEC,IAAI,CAAC,MAFN,CAGC,WAAW,CAAC,OAHb,CAIC,SAAS,CAAC,kBAJX,CAKC,QAAQ,CAAEmB,YALX,EADD,cAQC,cACC,IAAI,CAAC,MADN,CAEC,IAAI,CAAC,OAFN,CAGC,WAAW,CAAC,QAHb,CAIC,SAAS,CAAC,mBAJX,CAKC,QAAQ,CAAEA,YALX,EARD,cAeC,cACC,IAAI,CAAC,MADN,CAEC,IAAI,CAAC,OAFN,CAGC,WAAW,CAAC,QAHb,CAIC,SAAS,CAAC,mBAJX,CAKC,QAAQ,CAAEA,YALX,EAfD,GADD,cAwBC,aAAK,SAAS,CAAC,4DAAf,wBACC,gBACC,IAAI,CAAC,eADN,CAEC,EAAE,CAAC,eAFJ,CAGC,SAAS,CAAC,kBAHX,CAIC,QAAQ,CAAEA,YAJX,wBAKC,eAAQ,KAAK,CAAC,EAAd,6BALD,cAMC,eAAQ,KAAK,CAAC,KAAd,iBAND,cAOC,eAAQ,KAAK,CAAC,IAAd,gBAPD,GADD,cAUC,gBACC,IAAI,CAAC,gBADN,CAEC,EAAE,CAAC,OAFJ,CAGC,SAAS,CAAC,kBAHX,CAIC,QAAQ,CAAEA,YAJX,wBAKC,eAAQ,KAAK,CAAC,EAAd,qBALD,cAMC,eAAQ,KAAK,CAAC,UAAd,sBAND,cAOC,eAAQ,KAAK,CAAC,WAAd,uBAPD,GAVD,GAxBD,GAbF,GADD,cA6DC,eACC,OAAO,CAAEK,YADV,CAEC,SAAS,CAAC,oDAFX,6BA7DD,CAkEEjB,KAAK,eAAI,YAAK,SAAS,CAAC,0BAAf,UAA2CA,KAA3C,EAlEX,GADD,CAsEA,CAED,cAAeV,CAAAA,cAAf","sourcesContent":["import { useState, useEffect } from \"react\";\nimport SearchBar from \"./SearchBar\";\nimport { searchPets } from \"../actions/petActions\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nfunction AdvancedSearch({ search }) {\n\tconst dispatch = useDispatch();\n\tconst [advancedSearch, setAdvancedSearch] = useState(false);\n\tconst pets = useSelector((state) => state.pet.petData);\n\tconst results = useSelector((state) => state.search.petData);\n\tconst [alert, SetAlert] = useState();\n\n\tconst initialState = {\n\t\tsearchbar: \"\",\n\t\ttype: \"\",\n\t\tadoptionStatus: \"\",\n\t\thypoallergnic: \"\",\n\t\tbreed: \"\",\n\t\tcolor: \"\",\n\t};\n\n\tconst [petData, setPetData] = useState(initialState);\n\n\tuseEffect(() => {\n\t\tif (search && pets) {\n\t\t\tconsole.log(search);\n\t\t\t// dispatch(searchPets(search, pets));\n\t\t}\n\t}, []);\n\n\tconst handleChange = (e) => {\n\t\tif (alert) {\n\t\t\tSetAlert();\n\t\t}\n\t\tsetPetData({ ...petData, [e.target.name]: e.target.value });\n\t};\n\n\tconst clickHandler = (e) => {\n\t\te.preventDefault();\n\t\tsetAdvancedSearch((prevState) => !prevState);\n\t};\n\n\tconst submitHandler = (e) => {\n\t\te.preventDefault();\n\t\tlet emptyValues = 0;\n\n\t\t//check if search is empty\n\t\tfor (const [key, value] of Object.entries(petData)) {\n\t\t\tif (value === \"\") {\n\t\t\t\temptyValues++;\n\t\t\t}\n\t\t}\n\t\tif (emptyValues === 6) {\n\t\t\tSetAlert(\"Please enter search criteria.\");\n\t\t} else {\n\t\t\tconsole.log(petData);\n\t\t\tdispatch(searchPets(petData, pets));\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tlet emptyValues = 0;\n\t\tfor (let [key, value] of Object.entries(petData)) {\n\t\t\tif (value == \"\") {\n\t\t\t\temptyValues++;\n\t\t\t\tif (emptyValues == 6) {\n\t\t\t\t\tdispatch({ type: \"RESET_RESULTS\" });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, [petData]);\n\n\tuseEffect(() => {\n\t\tif (results) {\n\t\t\tif (results.length == 0) {\n\t\t\t\tSetAlert(\"Nothing was found...\");\n\t\t\t}\n\t\t}\n\t}, [results]);\n\n\treturn (\n\t\t<div className='flex flex-col w-full sticky items-center'>\n\t\t\t<form\n\t\t\t\tonSubmit={submitHandler}\n\t\t\t\tclassName='w-full flex flex-col items-center'>\n\t\t\t\t<div className='flex w-5/6 ml-auto'>\n\t\t\t\t\t<SearchBar onChange={handleChange} name='searchbar' />{\" \"}\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\tonSubmit={submitHandler}\n\t\t\t\t\t\tclassName='ml-2 p-1 px-2 rounded-md bg-gray-200 hover:bg-off-white'>\n\t\t\t\t\t\tSearch\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t{advancedSearch && (\n\t\t\t\t\t<div className='m-1 sm:mt-2 flex space-x-3 flex-col md:flex-row space-y-2 md:space-y-0 justify-center items-center'>\n\t\t\t\t\t\t<div className='mt-1 sm:mt-0 flex flex-col space-y-1 sm:space-y-0 sm:flex-row sm:space-x-3'>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tname='type'\n\t\t\t\t\t\t\t\tplaceholder='Type:'\n\t\t\t\t\t\t\t\tclassName='rounded-md p-1.5'\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tname='breed'\n\t\t\t\t\t\t\t\tplaceholder='Breed:'\n\t\t\t\t\t\t\t\tclassName='rounded-md p-1.5 '\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tname='color'\n\t\t\t\t\t\t\t\tplaceholder='Color:'\n\t\t\t\t\t\t\t\tclassName='rounded-md p-1.5 '\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='flex space-x-10 md:space-x-3 justify-center content-center'>\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tname='hypoallergnic'\n\t\t\t\t\t\t\t\tid='hypoallergnic'\n\t\t\t\t\t\t\t\tclassName='rounded-md p-1.5'\n\t\t\t\t\t\t\t\tonChange={handleChange}>\n\t\t\t\t\t\t\t\t<option value=''>hypoallergenic:</option>\n\t\t\t\t\t\t\t\t<option value='Yes'>Yes</option>\n\t\t\t\t\t\t\t\t<option value='No'>No</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tname='adoptionStatus'\n\t\t\t\t\t\t\t\tid='stsus'\n\t\t\t\t\t\t\t\tclassName='rounded-md p-1.5'\n\t\t\t\t\t\t\t\tonChange={handleChange}>\n\t\t\t\t\t\t\t\t<option value=''>Status:</option>\n\t\t\t\t\t\t\t\t<option value='Fostered'>Fostered</option>\n\t\t\t\t\t\t\t\t<option value='Available'>Available</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</form>\n\t\t\t<button\n\t\t\t\tonClick={clickHandler}\n\t\t\t\tclassName='bg-gray-200 hover:bg-off-white rounded-md p-2 my-2'>\n\t\t\t\tAdvanced Search\n\t\t\t</button>\n\t\t\t{alert && <div className='text-red-600 text-lg m-2'>{alert}</div>}\n\t\t</div>\n\t);\n}\n\nexport default AdvancedSearch;\n"]},"metadata":{},"sourceType":"module"}