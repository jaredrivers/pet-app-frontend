{"ast":null,"code":"import _asyncToGenerator from\"/Users/jaredfischer/Library/Mobile Documents/com~apple~CloudDocs/Desktop/ITC/PetApp/mern-pet-adoption-website/front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/jaredfischer/Library/Mobile Documents/com~apple~CloudDocs/Desktop/ITC/PetApp/mern-pet-adoption-website/front-end/node_modules/@babel/runtime/regenerator/index.js\";import*as api from\"../api/index.js\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";toast.configure();//Action creators\nexport var signUp=function signUp(formData,navigate){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var _yield$api$signup,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:\"LOADING_TRUE\"});_context.prev=1;_context.next=4;return api.signup(formData);case 4:_yield$api$signup=_context.sent;data=_yield$api$signup.data;dispatch({type:\"AUTH\",data:data});dispatch({type:\"MODAL_CLOSE\"});dispatch({type:\"LOADING_FALSE\"});navigate(\"/\");toast.success(\"Account sucessfully created!\",{theme:\"colored\",autoClose:3000});_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](1);toast.error(_context.t0.response.data.message,{pauseOnHover:false,autoClose:3000,theme:\"colored\"});case 16:case\"end\":return _context.stop();}}},_callee,null,[[1,13]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var signIn=function signIn(formData,navigate){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var _yield$api$signin,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch({type:\"LOADING_TRUE\"});_context2.prev=1;_context2.next=4;return api.signin(formData);case 4:_yield$api$signin=_context2.sent;data=_yield$api$signin.data;dispatch({type:\"AUTH\",data:data});dispatch({type:\"LOADING_FALSE\"});dispatch({type:\"MODAL_CLOSE\"});navigate(\"/\");_context2.next=16;break;case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](1);toast.error(_context2.t0.response.data.message,{pauseOnHover:false,autoClose:3000,theme:\"colored\"});dispatch({type:\"LOADING_FALSE\"});case 16:case\"end\":return _context2.stop();}}},_callee2,null,[[1,12]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var setUser=function setUser(){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var user;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:user=JSON.parse(localStorage.getItem(\"profile\")).user;try{dispatch({type:\"SET_USER\",user:user});}catch(err){toast.error(err.message,{pauseOnHover:false,autoClose:3000,theme:\"colored\"});}case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var clearUser=function clearUser(){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:dispatch({type:\"CLEAR_USER\"});case 1:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x4){return _ref4.apply(this,arguments);};}();};export var loadProfile=function loadProfile(userId){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){var _yield$api$getUserByI,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:dispatch({type:\"LOADING_TRUE\"});_context5.prev=1;_context5.next=4;return api.getUserById(userId);case 4:_yield$api$getUserByI=_context5.sent;data=_yield$api$getUserByI.data;dispatch({type:\"SET_FAVORITES\",favorites:data.user.favorites});dispatch({type:\"SET_MY_PETS\",ownedPets:data.user.pets});dispatch({type:\"SET_FOSTERING\",fostering:data.user.fostering});dispatch({type:\"PROFILE\",data:data});dispatch({type:\"LOADING_FALSE\"});_context5.next=17;break;case 13:_context5.prev=13;_context5.t0=_context5[\"catch\"](1);toast.error(_context5.t0.message,{pauseOnHover:false,autoClose:3000,theme:\"colored\"});dispatch({type:\"LOADING_FALSE\"});case 17:case\"end\":return _context5.stop();}}},_callee5,null,[[1,13]]);}));return function(_x5){return _ref5.apply(this,arguments);};}();};export var uploadPhotoHandler=function uploadPhotoHandler(fileData){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch){var _yield$api$uploadPhot,data;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return api.uploadPhoto(JSON.stringify(fileData));case 3:_yield$api$uploadPhot=_context6.sent;data=_yield$api$uploadPhot.data;return _context6.abrupt(\"return\",data);case 8:_context6.prev=8;_context6.t0=_context6[\"catch\"](0);toast.error(_context6.t0.message,{pauseOnHover:false,autoClose:3000,theme:\"colored\"});case 11:case\"end\":return _context6.stop();}}},_callee6,null,[[0,8]]);}));return function(_x6){return _ref6.apply(this,arguments);};}();};// export const updateProfile = (formData, id) => async (dispatchj) => {\n// \ttry {\n// \t\tconst { data } = await api.updateProfile(formData, id);\n// \t\ttoast.success(\"Account sucessfully created!\", {\n// \t\t\ttheme: \"colored\",\n// \t\t\tautoClose: 3000,\n// \t\t});\n// \t} catch (err) {\n// \t\ttoast.error(err.message, {\n// \t\t\tpauseOnHover: false,\n// \t\t\tautoClose: 3000,\n// \t\t\ttheme: \"colored\",\n// \t\t});\n// \t}\n// };","map":{"version":3,"sources":["/Users/jaredfischer/Library/Mobile Documents/com~apple~CloudDocs/Desktop/ITC/PetApp/mern-pet-adoption-website/front-end/src/actions/auth.js"],"names":["api","ToastContainer","toast","configure","signUp","formData","navigate","dispatch","type","signup","data","success","theme","autoClose","error","response","message","pauseOnHover","signIn","signin","setUser","user","JSON","parse","localStorage","getItem","err","clearUser","loadProfile","userId","getUserById","favorites","ownedPets","pets","fostering","uploadPhotoHandler","fileData","uploadPhoto","stringify"],"mappings":"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","sourcesContent":["import * as api from \"../api/index.js\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\ntoast.configure();\n\n//Action creators\nexport const signUp = (formData, navigate) => async (dispatch) => {\n\tdispatch({ type: \"LOADING_TRUE\" });\n\n\ttry {\n\t\tconst { data } = await api.signup(formData);\n\n\t\tdispatch({ type: \"AUTH\", data });\n\n\t\tdispatch({ type: \"MODAL_CLOSE\" });\n\n\t\tdispatch({ type: \"LOADING_FALSE\" });\n\t\tnavigate(\"/\");\n\t\ttoast.success(\"Account sucessfully created!\", {\n\t\t\ttheme: \"colored\",\n\t\t\tautoClose: 3000,\n\t\t});\n\t} catch (err) {\n\t\ttoast.error(err.response.data.message, {\n\t\t\tpauseOnHover: false,\n\t\t\tautoClose: 3000,\n\t\t\ttheme: \"colored\",\n\t\t});\n\t}\n};\n\nexport const signIn = (formData, navigate) => async (dispatch) => {\n\tdispatch({ type: \"LOADING_TRUE\" });\n\ttry {\n\t\tconst { data } = await api.signin(formData);\n\t\tdispatch({ type: \"AUTH\", data });\n\n\t\tdispatch({ type: \"LOADING_FALSE\" });\n\t\tdispatch({ type: \"MODAL_CLOSE\" });\n\n\t\tnavigate(\"/\");\n\t} catch (err) {\n\t\ttoast.error(err.response.data.message, {\n\t\t\tpauseOnHover: false,\n\t\t\tautoClose: 3000,\n\t\t\ttheme: \"colored\",\n\t\t});\n\t\tdispatch({ type: \"LOADING_FALSE\" });\n\t}\n};\n\nexport const setUser = () => async (dispatch) => {\n\tconst user = JSON.parse(localStorage.getItem(\"profile\")).user;\n\ttry {\n\t\tdispatch({ type: \"SET_USER\", user });\n\t} catch (err) {\n\t\ttoast.error(err.message, {\n\t\t\tpauseOnHover: false,\n\t\t\tautoClose: 3000,\n\t\t\ttheme: \"colored\",\n\t\t});\n\t}\n};\n\nexport const clearUser = () => async (dispatch) => {\n\tdispatch({ type: \"CLEAR_USER\" });\n};\n\nexport const loadProfile = (userId) => async (dispatch) => {\n\tdispatch({ type: \"LOADING_TRUE\" });\n\ttry {\n\t\tconst { data } = await api.getUserById(userId);\n\n\t\tdispatch({ type: \"SET_FAVORITES\", favorites: data.user.favorites });\n\t\tdispatch({ type: \"SET_MY_PETS\", ownedPets: data.user.pets });\n\t\tdispatch({ type: \"SET_FOSTERING\", fostering: data.user.fostering });\n\n\t\tdispatch({ type: \"PROFILE\", data });\n\t\tdispatch({ type: \"LOADING_FALSE\" });\n\t} catch (err) {\n\t\ttoast.error(err.message, {\n\t\t\tpauseOnHover: false,\n\t\t\tautoClose: 3000,\n\t\t\ttheme: \"colored\",\n\t\t});\n\t\tdispatch({ type: \"LOADING_FALSE\" });\n\t}\n};\n\nexport const uploadPhotoHandler = (fileData) => async (dispatch) => {\n\ttry {\n\t\tconst { data } = await api.uploadPhoto(JSON.stringify(fileData));\n\t\treturn data;\n\t} catch (err) {\n\t\ttoast.error(err.message, {\n\t\t\tpauseOnHover: false,\n\t\t\tautoClose: 3000,\n\t\t\ttheme: \"colored\",\n\t\t});\n\t}\n};\n\n// export const updateProfile = (formData, id) => async (dispatchj) => {\n// \ttry {\n// \t\tconst { data } = await api.updateProfile(formData, id);\n// \t\ttoast.success(\"Account sucessfully created!\", {\n// \t\t\ttheme: \"colored\",\n// \t\t\tautoClose: 3000,\n// \t\t});\n// \t} catch (err) {\n// \t\ttoast.error(err.message, {\n// \t\t\tpauseOnHover: false,\n// \t\t\tautoClose: 3000,\n// \t\t\ttheme: \"colored\",\n// \t\t});\n// \t}\n// };\n"]},"metadata":{},"sourceType":"module"}