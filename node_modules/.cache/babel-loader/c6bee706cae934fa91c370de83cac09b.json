{"ast":null,"code":"import _asyncToGenerator from\"/Users/jaredfischer/Library/Mobile Documents/com~apple~CloudDocs/Desktop/ITC/PetApp/mern-pet-adoption-website/front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/jaredfischer/Library/Mobile Documents/com~apple~CloudDocs/Desktop/ITC/PetApp/mern-pet-adoption-website/front-end/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/jaredfischer/Library/Mobile Documents/com~apple~CloudDocs/Desktop/ITC/PetApp/mern-pet-adoption-website/front-end/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/jaredfischer/Library/Mobile Documents/com~apple~CloudDocs/Desktop/ITC/PetApp/mern-pet-adoption-website/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/jaredfischer/Library/Mobile Documents/com~apple~CloudDocs/Desktop/ITC/PetApp/mern-pet-adoption-website/front-end/node_modules/@babel/runtime/regenerator/index.js\";import EditProfileItem from\"./EditProfileItem\";import{MailIcon,XIcon,PhoneIcon,LockClosedIcon}from\"@heroicons/react/outline\";import{useSelector,useDispatch}from\"react-redux\";import{useEffect,useState}from\"react\";import*as api from\"../api/index\";import{toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfile(_ref){var closeHandler=_ref.closeHandler,setOpenEditor=_ref.setOpenEditor;var profileData=useSelector(function(state){return state.profileData;});var navigate=useNavigate();var user=useSelector(function(state){return state.user;});var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var initialState={firstName:\"\",lastName:\"\",email:\"\",phoneNumber:\"\",password:\"\",confirmPassword:\"\"};var _useState3=useState(initialState),_useState4=_slicedToArray(_useState3,2),formData=_useState4[0],setFormData=_useState4[1];var handleChange=function handleChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value)));};useEffect(function(){if(!profileData.length==0){console.log(profileData.profileData);}},[profileData]);var submitHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _yield$api$updateProf,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);e.preventDefault();_context.prev=2;_context.next=5;return api.updateProfile(formData,user.currentUser.id);case 5:_yield$api$updateProf=_context.sent;data=_yield$api$updateProf.data;dispatch({type:\"AUTH\",data:data});setLoading(false);setOpenEditor(false);navigate(\"/profile\");_context.next=17;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](2);setLoading(false);toast.error(_context.t0.message,{pauseOnHover:false,autoClose:3000,theme:\"colored\"});case 17:case\"end\":return _context.stop();}}},_callee,null,[[2,13]]);}));return function submitHandler(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,className:\"flex flex-col  w-[60%] rounded-md shadow-md bg-theme-lp justify-center items-center relative p-10 \",children:[/*#__PURE__*/_jsx(XIcon,{onClick:closeHandler,className:\"absolute top-2 right-4 w-7 cursor-pointer\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col justify-center items-end space-y-3\",children:[/*#__PURE__*/_jsx(EditProfileItem,{name:\"email\",type:\"email\",Icon:MailIcon,placeHolder:profileData.profileData.email,onChange:handleChange}),/*#__PURE__*/_jsx(EditProfileItem,{name:\"firstName\",type:\"text\",placeHolder:profileData.profileData.firstName,onChange:handleChange}),/*#__PURE__*/_jsx(EditProfileItem,{name:\"lastName\",type:\"text\",placeHolder:profileData.profileData.lastName,onChange:handleChange}),/*#__PURE__*/_jsx(EditProfileItem,{name:\"phoneNumber\",type:\"tel\",Icon:PhoneIcon,placeHolder:profileData.profileData.phoneNumber,onChange:handleChange}),/*#__PURE__*/_jsx(EditProfileItem,{name:\"password\",type:\"password\",Icon:LockClosedIcon,placeHolder:\"New Password\",onChange:handleChange}),/*#__PURE__*/_jsx(EditProfileItem,{name:\"confirmPassword\",type:\"password\",Icon:LockClosedIcon,placeHolder:\"Confirm Password\",onChange:handleChange})]}),/*#__PURE__*/_jsx(\"button\",{disabled:loading,type:\"submit\",className:\"text-white w-20 p-2 bg-theme-bl cursor-pointer hover:bg-gray-400 rounded-md mt-5 disabled:opacity-50\",children:\"Submit\"})]});}export default EditProfile;","map":{"version":3,"sources":["/Users/jaredfischer/Library/Mobile Documents/com~apple~CloudDocs/Desktop/ITC/PetApp/mern-pet-adoption-website/front-end/src/components/EditProfile.jsx"],"names":["EditProfileItem","MailIcon","XIcon","PhoneIcon","LockClosedIcon","useSelector","useDispatch","useEffect","useState","api","toast","useNavigate","EditProfile","closeHandler","setOpenEditor","profileData","state","navigate","user","dispatch","loading","setLoading","initialState","firstName","lastName","email","phoneNumber","password","confirmPassword","formData","setFormData","handleChange","e","target","name","value","length","console","log","submitHandler","preventDefault","updateProfile","currentUser","id","data","type","error","message","pauseOnHover","autoClose","theme"],"mappings":"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","sourcesContent":["import EditProfileItem from \"./EditProfileItem\";\nimport {\n\tMailIcon,\n\tXIcon,\n\tPhoneIcon,\n\tLockClosedIcon,\n} from \"@heroicons/react/outline\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useEffect, useState } from \"react\";\nimport * as api from \"../api/index\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction EditProfile({ closeHandler, setOpenEditor }) {\n\tconst profileData = useSelector((state) => state.profileData);\n\tconst navigate = useNavigate();\n\tconst user = useSelector((state) => state.user);\n\tconst dispatch = useDispatch();\n\n\tconst [loading, setLoading] = useState(false);\n\n\tconst initialState = {\n\t\tfirstName: \"\",\n\t\tlastName: \"\",\n\t\temail: \"\",\n\t\tphoneNumber: \"\",\n\t\tpassword: \"\",\n\t\tconfirmPassword: \"\",\n\t};\n\tconst [formData, setFormData] = useState(initialState);\n\n\tconst handleChange = (e) => {\n\t\tsetFormData({ ...formData, [e.target.name]: e.target.value });\n\t};\n\n\tuseEffect(() => {\n\t\tif (!profileData.length == 0) {\n\t\t\tconsole.log(profileData.profileData);\n\t\t}\n\t}, [profileData]);\n\n\tconst submitHandler = async (e) => {\n\t\tsetLoading(true);\n\t\te.preventDefault();\n\t\ttry {\n\t\t\tconst { data } = await api.updateProfile(formData, user.currentUser.id);\n\t\t\tdispatch({ type: \"AUTH\", data });\n\t\t\tsetLoading(false);\n\t\t\tsetOpenEditor(false);\n\t\t\tnavigate(\"/profile\");\n\t\t} catch (err) {\n\t\t\tsetLoading(false);\n\t\t\ttoast.error(err.message, {\n\t\t\t\tpauseOnHover: false,\n\t\t\t\tautoClose: 3000,\n\t\t\t\ttheme: \"colored\",\n\t\t\t});\n\t\t}\n\t};\n\n\treturn (\n\t\t<form\n\t\t\tonSubmit={submitHandler}\n\t\t\tclassName='flex flex-col  w-[60%] rounded-md shadow-md bg-theme-lp justify-center items-center relative p-10 '>\n\t\t\t<XIcon\n\t\t\t\tonClick={closeHandler}\n\t\t\t\tclassName='absolute top-2 right-4 w-7 cursor-pointer'\n\t\t\t/>\n\t\t\t<div className='flex flex-col justify-center items-end space-y-3'>\n\t\t\t\t<EditProfileItem\n\t\t\t\t\tname='email'\n\t\t\t\t\ttype='email'\n\t\t\t\t\tIcon={MailIcon}\n\t\t\t\t\tplaceHolder={profileData.profileData.email}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t/>\n\t\t\t\t<EditProfileItem\n\t\t\t\t\tname='firstName'\n\t\t\t\t\ttype='text'\n\t\t\t\t\tplaceHolder={profileData.profileData.firstName}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t/>\n\t\t\t\t<EditProfileItem\n\t\t\t\t\tname='lastName'\n\t\t\t\t\ttype='text'\n\t\t\t\t\tplaceHolder={profileData.profileData.lastName}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t/>\n\t\t\t\t<EditProfileItem\n\t\t\t\t\tname='phoneNumber'\n\t\t\t\t\ttype='tel'\n\t\t\t\t\tIcon={PhoneIcon}\n\t\t\t\t\tplaceHolder={profileData.profileData.phoneNumber}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t/>\n\t\t\t\t<EditProfileItem\n\t\t\t\t\tname='password'\n\t\t\t\t\ttype='password'\n\t\t\t\t\tIcon={LockClosedIcon}\n\t\t\t\t\tplaceHolder='New Password'\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t/>\n\t\t\t\t<EditProfileItem\n\t\t\t\t\tname='confirmPassword'\n\t\t\t\t\ttype='password'\n\t\t\t\t\tIcon={LockClosedIcon}\n\t\t\t\t\tplaceHolder='Confirm Password'\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<button\n\t\t\t\tdisabled={loading}\n\t\t\t\ttype='submit'\n\t\t\t\tclassName='text-white w-20 p-2 bg-theme-bl cursor-pointer hover:bg-gray-400 rounded-md mt-5 disabled:opacity-50'>\n\t\t\t\tSubmit\n\t\t\t</button>\n\t\t</form>\n\t);\n}\n\nexport default EditProfile;\n"]},"metadata":{},"sourceType":"module"}