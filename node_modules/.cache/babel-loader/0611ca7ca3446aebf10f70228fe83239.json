{"ast":null,"code":"import{MenuIcon,PlusCircleIcon,UserIcon}from\"@heroicons/react/outline\";import{useDispatch,useSelector}from\"react-redux\";import{switchState}from\"../actions/switchState\";import NavbarItem from\"./NavbarItem\";import{useLocation,useNavigate}from\"react-router-dom\";import{setUser,clearUser}from\"../actions/auth\";import{useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Navbar(){var dispatch=useDispatch();var navigate=useNavigate();var _useSelector=useSelector(function(state){return state.user;}),currentUser=_useSelector.currentUser;var location=useLocation();var login=useSelector(function(state){return state.login;});useEffect(function(){if(localStorage.getItem(\"profile\")){dispatch(setUser());}else{dispatch(clearUser());}},[location]);//checks if user is admin and changes state to admin\nuseEffect(function(){if(currentUser){if(currentUser.role==\"admin\"){dispatch({type:\"ADMIN_TRUE\"});}}else{dispatch({type:\"ADMIN_FALSE\"});}},[currentUser]);var sidebarHandler=function sidebarHandler(){dispatch({type:\"SIDEBAR_OPEN\"});};var modalHandler=function modalHandler(e){if(e.target.id===\"login\"&&login!==true){dispatch(switchState(\"LOGIN\"));}else if(e.target.id===\"signup\"&&login!==false){dispatch(switchState(\"LOGIN\"));}dispatch(switchState(\"MODAL\"));};var signOutHandler=function signOutHandler(){if(login==true){dispatch(switchState(\"LOGIN\"));}dispatch({type:\"LOGOUT\"});dispatch(clearUser());navigate(\"/\");};return/*#__PURE__*/_jsxs(\"div\",{name:\"navbar\",className:\"flex absolute top-0 shadow-md h-[3rem] bg-none w-screen px-5 items-center space-x-6 z-10\",children:[/*#__PURE__*/_jsx(NavbarItem,{Icon:MenuIcon,onClick:sidebarHandler}),currentUser?/*#__PURE__*/_jsxs(\"div\",{className:\"loggedInDiv flex items-center grow\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-lg\",children:\"Hello, \".concat(currentUser.firstName)}),/*#__PURE__*/_jsx(\"div\",{onClick:signOutHandler,id:\"signout\",className:\"signout text-lg cursor-pointer hover:text-theme-bd ml-auto\",children:\"Sign Out\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-7\",children:[/*#__PURE__*/_jsx(\"span\",{onClick:modalHandler,id:\"login\",className:\"login ml-auto text-lg cursor-pointer hover:text-theme-bd\",children:\"Login\"}),/*#__PURE__*/_jsx(\"span\",{onClick:modalHandler,id:\"signup\",className:\"signup ml-auto text-lg cursor-pointer hover:text-theme-bd\",children:\"Sign Up\"})]})]});}export default Navbar;","map":{"version":3,"sources":["/Users/jaredfischer/Library/Mobile Documents/com~apple~CloudDocs/Desktop/ITC/PetApp/mern-pet-adoption-website/front-end/src/components/Navbar.jsx"],"names":["MenuIcon","PlusCircleIcon","UserIcon","useDispatch","useSelector","switchState","NavbarItem","useLocation","useNavigate","setUser","clearUser","useEffect","Navbar","dispatch","navigate","state","user","currentUser","location","login","localStorage","getItem","role","type","sidebarHandler","modalHandler","e","target","id","signOutHandler","firstName"],"mappings":"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","sourcesContent":["import { MenuIcon, PlusCircleIcon, UserIcon } from \"@heroicons/react/outline\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { switchState } from \"../actions/switchState\";\nimport NavbarItem from \"./NavbarItem\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { setUser, clearUser } from \"../actions/auth\";\nimport { useEffect } from \"react\";\n\nfunction Navbar() {\n\tconst dispatch = useDispatch();\n\tconst navigate = useNavigate();\n\tconst { currentUser } = useSelector((state) => state.user);\n\tconst location = useLocation();\n\tconst login = useSelector((state) => state.login);\n\n\tuseEffect(() => {\n\t\tif (localStorage.getItem(\"profile\")) {\n\t\t\tdispatch(setUser());\n\t\t} else {\n\t\t\tdispatch(clearUser());\n\t\t}\n\t}, [location]);\n\n\t//checks if user is admin and changes state to admin\n\tuseEffect(() => {\n\t\tif (currentUser) {\n\t\t\tif (currentUser.role == \"admin\") {\n\t\t\t\tdispatch({ type: \"ADMIN_TRUE\" });\n\t\t\t}\n\t\t} else {\n\t\t\tdispatch({ type: \"ADMIN_FALSE\" });\n\t\t}\n\t}, [currentUser]);\n\n\tconst sidebarHandler = () => {\n\t\tdispatch({ type: \"SIDEBAR_OPEN\" });\n\t};\n\n\tconst modalHandler = (e) => {\n\t\tif (e.target.id === \"login\" && login !== true) {\n\t\t\tdispatch(switchState(\"LOGIN\"));\n\t\t} else if (e.target.id === \"signup\" && login !== false) {\n\t\t\tdispatch(switchState(\"LOGIN\"));\n\t\t}\n\t\tdispatch(switchState(\"MODAL\"));\n\t};\n\n\tconst signOutHandler = () => {\n\t\tif (login == true) {\n\t\t\tdispatch(switchState(\"LOGIN\"));\n\t\t}\n\t\tdispatch({ type: \"LOGOUT\" });\n\t\tdispatch(clearUser());\n\t\tnavigate(\"/\");\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tname='navbar'\n\t\t\tclassName='flex absolute top-0 shadow-md h-[3rem] bg-none w-screen px-5 items-center space-x-6 z-10'>\n\t\t\t<NavbarItem Icon={MenuIcon} onClick={sidebarHandler} />\n\n\t\t\t{currentUser ? (\n\t\t\t\t<div className='loggedInDiv flex items-center grow'>\n\t\t\t\t\t<p className='text-lg'>{`Hello, ${currentUser.firstName}`}</p>\n\t\t\t\t\t<div\n\t\t\t\t\t\tonClick={signOutHandler}\n\t\t\t\t\t\tid='signout'\n\t\t\t\t\t\tclassName='signout text-lg cursor-pointer hover:text-theme-bd ml-auto'>\n\t\t\t\t\t\tSign Out\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div className='flex space-x-7'>\n\t\t\t\t\t<span\n\t\t\t\t\t\tonClick={modalHandler}\n\t\t\t\t\t\tid='login'\n\t\t\t\t\t\tclassName='login ml-auto text-lg cursor-pointer hover:text-theme-bd'>\n\t\t\t\t\t\tLogin\n\t\t\t\t\t</span>\n\t\t\t\t\t<span\n\t\t\t\t\t\tonClick={modalHandler}\n\t\t\t\t\t\tid='signup'\n\t\t\t\t\t\tclassName='signup ml-auto text-lg cursor-pointer hover:text-theme-bd'>\n\t\t\t\t\t\tSign Up\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default Navbar;\n"]},"metadata":{},"sourceType":"module"}